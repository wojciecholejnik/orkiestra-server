<div class="module-container">
    <div class="year-selector">
        <button class="btn btn-primary" (click)="goPreviousYear()"><i class="bi bi-chevron-left"></i></button>
        <span>{{ showingYear }}</span>
        <button class="btn btn-primary" (click)="goNextYear()"><i class="bi bi-chevron-right"></i></button>
    </div>
    <div class="actions">
        <button class="btn btn-primary" (click)="toggleNewListOpen()">Stwórz nową listę</button>
        <button class="btn btn-danger" (click)="toggleRemoveListOpen()">Usuń listę</button>
        <button class="btn btn-primary" (click)="toggleaddMemberToListIsOpen()">Edytuj użytkowników</button>
    </div>

    <app-contributions-table [list]="listToShow"></app-contributions-table>
</div>

<app-add-user
    *ngIf="addMemberToListIsOpen"
    [listId]="listToShow._id"
    [currentMembers]="listToShow.members"
    [year]="listToShow.year"
    (onClose)="toggleaddMemberToListIsOpen()"
></app-add-user>
<app-add-new-list
    *ngIf="newListOpen"
    (onClose)="toggleNewListOpen()"
></app-add-new-list>

<app-confirmation
    *ngIf="removeListModalOpen"
    (onConfirm)="removeList()"
    (onAbort)="toggleRemoveListOpen()"
    [data]="listToShow"
    [type]="'removeContributionList'"
></app-confirmation>


